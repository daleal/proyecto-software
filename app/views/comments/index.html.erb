<h1>Lista de comentarios creados</h1>

<table>
  <thead>
    <tr>
      <th>Contenido</th>
      <th>Fecha de creación</th>
      <th>Creado por</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @comments.each do |comment| %>
      <tr>
        <td><%= comment.content %></td>
        <td><%= comment.comment_date.strftime("%d/%m/%y: %H:%M:%S") %></td>
        <td><%= comment.created_by %></td>
        <td><%= link_to 'Mostrar', publication_comment_path(@publication, comment) %></td>
        <td><%= if (comment.created_by == current_user.email) || current_user.administrator?
                  link_to 'Editar', edit_publication_comment_path(@publication, comment)
                end %></td>
        <td><%= if (comment.created_by == current_user.email) || current_user.administrator?
                  link_to 'Eliminar', publication_comment_path(@publication, comment), method: :delete, data: { confirm: '¿Estás seguro?' }
                end %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Crear nuevo', new_publication_comment_path %>
